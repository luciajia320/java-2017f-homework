# HuluBoy v4.0(Final Version)
#### By 张书瀚 151220161    
——————————————————————————————————————————————————————————  

## 一、战争准备
##### 上帝的操作:
    空格开始，R重置，L复盘  
##### 排兵布阵：  
    从菜单选择双方的阵型，默认双方都是长蛇阵
##### 将在外君命有所不受：
    不要在打架期间选择阵型，否则会导致战场崩溃
    
## 二、参战人员
#### 正义的一方
##### 大娃（红）：“大大大！”
    力大无穷，攻击力高，生命值一般，团队输出主力
    攻击力：30
    生命值：50
    主动技能：无
    被动技能：无
##### 二娃（橙）：“我看见你了！”
    千里眼顺风耳，攻击力一般，生命值一般，谋划者
    攻击力：15
    生命值：50
    主动技能：无
    被动技能：“超级瞄准已部署”————二娃存活时全队攻击力加3
##### 三娃（黄）：“没有盾牌也能撑盾墙！”
    铜头铁臂，钢筋铁骨,攻击力极低，生命之极高，团队坦克
    攻击力：2
    生命值：300
    主动技能：无
    被动技能：无
##### 四娃（绿）：“火焰，是我的玩具”
    会喷火，攻击力较低，生命值一般，群体伤害输出
    攻击力：10
    生命值：50
    主动技能：“火焰术”————每次行动有一定几率喷出火焰对附近所有敌人造成伤害
    被动技能：无
##### 五娃（青）：“听说你受伤了？”
    会喷水，攻击力较低，生命值一般，团队治疗者
    攻击力：10
    生命值：50
    主动技能：“治疗术”————每次行动有一定几率喷出水来治疗所有存活友军
    被动技能：无
##### 六娃（蓝）：“我轻轻的来，正如我轻轻的走”
    可以隐身，聪明机灵，暗杀者
    攻击力：0
    生命值：0
    主动技能：“致命一击”————每次行动有一定几率对身边的一个妖怪一击必杀
    被动技能：“无迹可寻”————妖怪看不到隐身的六娃，六娃不会受到任何伤害
##### 七娃（紫）：“我就卖个萌~”
    会魔法，但这个游戏不支持魔法伤害。攻击力低，生命值低，团队的小宝宝
    攻击力：5
    生命值：20
    主动技能：无
    被动技能：无
##### 爷爷：“我的孩子们！”
    不参战，为葫芦娃加油
    特殊技能：“种葫芦得娃”————爷爷会复活最先死亡的葫芦娃。只能使用一次
    
#### 邪恶的一方
##### 小喽啰：“为了大王！”
    最普通的小兵，战场的炮灰，攻击力一般，生命值一般
    攻击力：15
    生命值：40
##### 蝎子精：“我将带头冲锋！”
    妖怪的头领，攻击力一般，生命值较高
    攻击力：15
    生命值：100
    主动技能：无
    被动技能：“军心大乱”————蝎子精死亡时，所有小喽啰攻击力减3
##### 蛇精：“我是最美的女人。”
    妖怪的女王，不参战，为妖怪加油
    特殊技能：“血海深仇”————蝎子精死亡时，蛇精召唤一批新的小喽啰参加战斗来为蝎子精复仇
    
## 三、胜负判定
##### 当除六娃以外所有葫芦娃都死了，妖怪胜利，爷爷被吃了
##### 当蝎子精和所有小喽啰都死了，葫芦娃胜利，蛇精被镇压在山下


## 四、技术说明
### 面向对象
##### 封装  
    将Boy,Space,Formatter等实体,方法或属性封装成单独的类，设置其属性的访问权限，并提供对外的
    接口函数。封装将外界的变化隔离，使程序独立，安全，稳定。提高代码的复用性。
##### 继承  
    所有的生物都继承抽象类（遵循接口）Creature，使得类与类之间能够产生关联。同样所有的阵型都遵
    循Formatter接口。继承是的类与类之间的关系更加清晰，同事及也方便了多态的实现。         
##### 多态  
    父类的引用指向并接受自己的子类对象。以Creature类作为参数，在运行时可以动态的操控不同的子类的对象。  
    多态提高了程序的可扩展性，也使代码更加简洁。  
##### 单一责任原则  
    1. Boy,Grandpa,Snake,Scorpion,Goblins分别对应葫芦娃，爷爷，蛇精，蝎子精，喽啰。实现了其对应的功能。  
    2. *Formatter为阵型类，分别实现了不同的阵型，用来操控BattleField形成对峙局面。   。  
    3. BattleField类为双方提供战场，可以打乱葫芦娃的顺序，并展示当前的战场情况。  
    4. Position类负责记录当前每个生物的位置信息，存储生物的尸体等，并对其作出修改。  
    单一责任原则可以降低没一个类的复杂度，减少类与类之间的影响，为代码提供更好的可维护性。消除
    耦合，减小因需求变化引起代码僵化。  
##### 开-闭原则  
    Creature，Formatter别定义了生物，阵型类必须实现的操作，对这些类的修改提出了限制，体现了封闭原则。而
    在类的实现中，可以对接口要求的操作提供不同的实现，体现了开放原则。  
    开-闭原则降低了程序各部分之间的耦合性，其适应性、灵活性、稳定性都比较好。  
##### 里氏代换原则  
    Creature作为处理所有生物时的参数，体现了里氏代换原则：子类只能去扩展基类，而不是隐藏或覆盖
    基类。可以很容易的实现同一父类下各个子类的互换，而对用户的体验没有影响。  

### 多线程
    所有的生物都是一个单独的线程，在BattleField这个广大的世界里各行其是。每个生物都在行动，进
    攻，休息中不断循环。最初的设计中，生物死了循环也不会停止，这不符合常理，同时后期会有30个线程
    同时运行，进行读写操作，导致程序经常卡死。之后的设计中除了葫芦娃其他人死了线程就会终止运行，
    这样就好多了。

### 文件读写
    文件读写采用BufferedWriter和BufferedReader进行，当生物运行完一个循环，会告知BattleField
    写文件（用synchronized避免同时访问写文件）。由于写文件的顺序是随机的，由生物们决定，所以读
    文件只能通过单线程运行了。从文件中读出每时刻的战场状态并复盘。
    
    
    