### README<br>
java大作业说明文档
====
## 一.主要类介绍：
#### 1.Class Main:
程序主函数，为应用程序入口
#### 2.Class Player：
##### 主要成员：
Field field关联生物所在战场;boolean alive标识生物是否存活；<br>
int type标识生物种类（从1-7为葫芦娃，8为grandpa,11-16为小喽啰，18蛇精，19蝎子精）<br>
##### 成员函数：<br>
构造函数Player(int x,int y,Field field,int type)通过type确定生物的种类以及建立和战场Field的联系<br>
reset(int x,int y)重新设定生物站位;alive()生物的存活状态：death()生物死亡<br>
move(int x,int y)和move_to(int x,int y)生物移动,此两函数为同步代码块，从而防止生物移动冲突，并且将移动信息记录进文件。<br>
fightwith(Player enermy)和其他生物对战，按随机一方死亡。<br>
run()线程函数，生物定时移动<br><br>
#### 3.Class Field:
##### 主要成员：
player[] plays;葫芦娃阵营<br>
player[] louluos;蛇精阵营<br>
String level;阵法存储<br>
##### 成员函数：
in_field()判断坐标是否在战场上;fighting()战场上所有成员开始战斗;gameover()判断游戏是否结束;hold判断坐标上是否有生物;near寻找离当前坐标最近的敌方<br>
initWorld()初始化战场，加载生物的站位;restart重新开始战场;
内部类：class RePlay用于复盘，run线程函数，根据读取的信息，每次执行一个战斗片段。
#### 4.class Map：
用于存储地图战场信息。

## 二.程序运行过程
七个葫芦娃兄弟和老爷爷在空间左侧摆出“长蛇阵”，妖精（蛇精、蝎子精、小喽啰）在空间右侧摆出“鹤翼”阵，阵型位置可设定。<br>
各个类对应的图片不同，葫芦娃阵营为彩色，妖精阵营为黑色。<br>
所有生物体均实现为一个线程，在空间上通过寻找敌人的位置来设定自己的移动位置和方向，当某个生物体与敌方相遇则进行战斗，以相同的概率存活。<br>
某一方生物体全部死亡时，经过检测，结束所有进程<br>
#### 键盘响应：  
##### a)`空格`键：所有生物体线程执行`start()`，向敌方前进并攻击。从按下空格开始时直到结束，整个过程都有记录，并保存到record目录中；  
##### b)`L`键：弹出对话框，让用户选择一个文件，读取文件内容，并按文件中记录的内容进行战斗回放；  
##### c)`↓`键：在按下L键之后，可以逐条向下查看记录内容并回放。

## 三.程序设计原则
### 1. 所有对象信息的访问均由规定接口提供，体现了OCP原则；
### 2.Creature为抽象类，葫芦娃、老爷爷、蛇精、蝎子精、小喽啰等具体类都继承于Creature类，外部类使用的均是Creature引用，<br>
### 这体现了LSP和DIP原则，同时也是“多态”面向对象基本特性的体现。
### 3.文件打开异常和生物体越过边界均会抛出异常，存储和读取记录使用输入和输出机制。








